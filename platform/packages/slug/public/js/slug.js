(()=>{function e(n){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(n)}function n(n,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,(r=i.key,a=void 0,a=function(n,t){if("object"!==e(n)||null===n)return n;var o=n[Symbol.toPrimitive];if(void 0!==o){var i=o.call(n,t||"default");if("object"!==e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(r,"string"),"symbol"===e(a)?a:String(a)),i)}var r,a}var t=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,o,i;return t=e,(o=[{key:"init",value:function(){var e=$(document).find("#edit-slug-box"),n=$(document).find("#editable-post-name"),t=$(document).find("#slug_id"),o=$(document).find("#change_slug"),i=$(document).find("#current-slug"),r=$(document).find("#sample-permalink");$(document).on("click","#change_slug",(function(t){$(document).find(".default-slug").unwrap(),n.html('<input type="text" id="new-post-slug" class="form-control" value="'+n.text()+'" autocomplete="off">'),e.find(".cancel").show(),e.find(".save").show(),$(t.currentTarget).hide()})),$(document).on("click","#edit-slug-box .cancel",(function(){var a=i.val();r.html('<a class="permalink" href="'+t.data("view")+a.replace("/","")+'">'+r.html()+"</a>"),n.text(a),e.find(".cancel").hide(),e.find(".save").hide(),o.show()}));var a=function(a,l,u){$.ajax({url:t.data("url"),type:"POST",data:{value:a,slug_id:l,model:$(document).find("input[name=model]").val()},success:function(a){u?r.find(".permalink").prop("href",t.data("view")+a.replace("/","")):r.html('<a class="permalink" target="_blank" href="'+t.data("view")+a.replace("/","")+'">'+r.html()+"</a>"),$(document).find(".page-url-seo p").text(t.data("view")+a.replace("/","")),n.text(a),i.val(a),e.find(".cancel").hide(),e.find(".save").hide(),o.show(),e.removeClass("hidden")},error:function(e){Botble.handleError(e)}})};$(document).on("click","#edit-slug-box .save",(function(){var e=$(document).find("#new-post-slug"),n=e.val(),o=t.data("id");null==o&&(o=0),null!=n&&""!==n?a(n,o,!1):e.closest(".form-group").addClass("has-error")})),$(document).on("blur","#"+e.data("field-name"),(function(n){if(e.hasClass("hidden")){var t=$(n.currentTarget).val();null!==t&&""!==t&&a(t,0,!0)}}))}}])&&n(t.prototype,o),i&&n(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();$((function(){(new t).init(),document.addEventListener("core-init-resources",(function(){(new t).init()}))}))})();